<!-- Get Involved Section -->
<section class="w-full py-12 bg-gray-100">
  <div class="container mx-auto px-4 md:px-6">
    <div class="max-w-3xl mx-auto space-y-6">
      <!-- Header -->
      <div class="text-center space-y-4">
        <h1 class="text-3xl font-extrabold tracking-tight sm:text-4xl md:text-5xl md:tracking-tighter md:leading-[3.5rem]">
          Get Involved
        </h1>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          Join our mission to promote One Health initiatives. Your skills and dedication can make a real difference 
          in our community's health and well-being.
        </p>
      </div>

      <!-- Volunteer Opportunities Section -->
      <div class="space-y-6">
        <div class="bg-white rounded-xl shadow-md overflow-hidden">
          <div class="p-6 space-y-6">
            <!-- Section Header -->
            <div class="flex justify-between items-center">
              <div class="space-y-1">
                <h2 class="text-2xl font-bold text-gray-900">Volunteer Opportunities</h2>
                <p class="text-gray-500">Choose from various roles to contribute to our mission</p>
              </div>
              <button 
                (click)="toggleVolunteerForm()"
                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                {{ showVolunteerForm ? 'Close Form' : 'Apply Now' }}
              </button>
            </div>
            
            <!-- Available Positions -->
            <div class="mt-6 space-y-4" *ngIf="!showVolunteerForm">
              <div *ngFor="let position of volunteerPositions" 
                   class="p-4 border border-gray-200 rounded-lg hover:border-blue-500 transition-all duration-300 hover:shadow-lg group">
                <div class="flex justify-between items-start">
                  <div class="space-y-2">
                    <h3 class="text-xl font-semibold text-gray-900 group-hover:text-blue-600 transition-colors duration-300">
                      {{position.title}}
                    </h3>
                    <p class="text-gray-600">{{position.description}}</p>
                  </div>
                  <span class="px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full whitespace-nowrap">
                    {{position.commitment}}
                  </span>
                </div>
                <div class="mt-4 flex flex-wrap gap-2">
                  <span *ngFor="let skill of position.skills" 
                        class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-blue-100 hover:text-blue-800 transition-colors duration-300">
                    {{skill}}
                  </span>
                </div>
              </div>
            </div>

            <!-- Volunteer Application Form -->
            <div *ngIf="showVolunteerForm" class="mt-6">
              <form [formGroup]="volunteerForm" (ngSubmit)="onSubmit()" class="space-y-6">
                <!-- Personal Information -->
                <div class="bg-gray-50 p-4 rounded-lg space-y-4">
                  <h4 class="text-lg font-semibold text-gray-900">Personal Information</h4>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-2">
                      <label class="text-sm font-medium text-gray-700">Full Name</label>
                      <input 
                        type="text" 
                        formControlName="fullName"
                        class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"
                        [ngClass]="{'border-red-500': volunteerForm.get('fullName')?.touched && volunteerForm.get('fullName')?.invalid}">
                      <p *ngIf="volunteerForm.get('fullName')?.touched && volunteerForm.get('fullName')?.invalid" 
                         class="text-sm text-red-500 mt-1">{{getErrorMessage('fullName')}}</p>
                    </div>

                    <div class="space-y-2">
                      <label class="text-sm font-medium text-gray-700">Email</label>
                      <input 
                        type="email" 
                        formControlName="email"
                        class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"
                        [ngClass]="{'border-red-500': volunteerForm.get('email')?.touched && volunteerForm.get('email')?.invalid}">
                      <p *ngIf="volunteerForm.get('email')?.touched && volunteerForm.get('email')?.invalid" 
                         class="text-sm text-red-500 mt-1">{{getErrorMessage('email')}}</p>
                    </div>

                    <div class="space-y-2">
                      <label class="text-sm font-medium text-gray-700">Phone Number</label>
                      <input 
                        type="tel" 
                        formControlName="phone"
                        placeholder="998997400 or 0998997400"
                        class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"
                        [ngClass]="{'border-red-500': volunteerForm.get('phone')?.touched && volunteerForm.get('phone')?.invalid}">
                      <p *ngIf="volunteerForm.get('phone')?.touched && volunteerForm.get('phone')?.invalid" 
                         class="text-sm text-red-500 mt-1">{{getErrorMessage('phone')}}</p>
                    </div>

                    <div class="space-y-2">
                      <label class="text-sm font-medium text-gray-700">Preferred Position</label>
                      <select 
                        formControlName="position"
                        class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"
                        [ngClass]="{'border-red-500': volunteerForm.get('position')?.touched && volunteerForm.get('position')?.invalid}">
                        <option value="">Select a position</option>
                        <option *ngFor="let pos of volunteerPositions" [value]="pos.title">{{pos.title}}</option>
                      </select>
                      <p *ngIf="volunteerForm.get('position')?.touched && volunteerForm.get('position')?.invalid" 
                         class="text-sm text-red-500 mt-1">{{getErrorMessage('position')}}</p>
                    </div>
                  </div>
                </div>

                <!-- Experience & Availability -->
                <div class="bg-gray-50 p-4 rounded-lg space-y-4">
                  <h4 class="text-lg font-semibold text-gray-900">Experience & Availability</h4>
                  <div class="space-y-4">
                    <div class="space-y-2">
                      <label class="text-sm font-medium text-gray-700">Relevant Experience</label>
                      <textarea 
                        formControlName="experience"
                        rows="3"
                        placeholder="Tell us about your relevant experience and skills..."
                        class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"
                        [ngClass]="{'border-red-500': volunteerForm.get('experience')?.touched && volunteerForm.get('experience')?.invalid}"></textarea>
                      <p *ngIf="volunteerForm.get('experience')?.touched && volunteerForm.get('experience')?.invalid" 
                         class="text-sm text-red-500 mt-1">{{getErrorMessage('experience')}}</p>
                    </div>

                    <div class="space-y-2">
                      <label class="text-sm font-medium text-gray-700">Availability</label>
                      <textarea 
                        formControlName="availability"
                        rows="2"
                        placeholder="Please specify your available days and times..."
                        class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"
                        [ngClass]="{'border-red-500': volunteerForm.get('availability')?.touched && volunteerForm.get('availability')?.invalid}"></textarea>
                      <p *ngIf="volunteerForm.get('availability')?.touched && volunteerForm.get('availability')?.invalid" 
                         class="text-sm text-red-500 mt-1">{{getErrorMessage('availability')}}</p>
                    </div>

                    <div class="space-y-2">
                      <label class="text-sm font-medium text-gray-700">Motivation</label>
                      <textarea 
                        formControlName="motivation"
                        rows="3"
                        placeholder="Why do you want to volunteer with us? What do you hope to achieve?"
                        class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"
                        [ngClass]="{'border-red-500': volunteerForm.get('motivation')?.touched && volunteerForm.get('motivation')?.invalid}"></textarea>
                      <p *ngIf="volunteerForm.get('motivation')?.touched && volunteerForm.get('motivation')?.invalid" 
                         class="text-sm text-red-500 mt-1">{{getErrorMessage('motivation')}}</p>
                    </div>
                  </div>
                </div>

                <div class="flex justify-end space-x-4">
                  <button 
                    type="button"
                    (click)="toggleVolunteerForm()"
                    class="px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
                    Cancel
                  </button>
                  <button 
                    type="submit"
                    [disabled]="!volunteerForm.valid"
                    class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                    Submit Application
                  </button>
                </div>
              </form>

              <!-- Success Message -->
              <div *ngIf="submitSuccess" 
                   class="mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
                <div class="flex items-center">
                  <svg class="w-5 h-5 text-green-400 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                  <p class="text-green-700 font-medium">Thank you for your application! We will contact you soon.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>